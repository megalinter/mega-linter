<!-- markdownlint-disable MD033 MD041 -->
<!-- Generated by .automation/build.py, please do not update manually -->
# <a href="https://github.com/phpstan/phpstan" target="blank" title="Visit linter Web Site"><img src="https://i.imgur.com/MOt7taM.png" alt="phpstan" height="100px"></a>phpstan

- Web Site: [**https://github.com/phpstan/phpstan**](https://github.com/phpstan/phpstan#readme)
- Version: **0.12.54**

## Configuration

### phpstan configuration

- [Configure phpstan rules](https://phpstan.org/config-reference#neon-format)
  - If custom phpstan.neon is not found, [phpstan.neon](https://github.com/nvuillam/mega-linter/tree/master/TEMPLATES/phpstan.neon) will be used
- [Disable phpstan rules in files](https://phpstan.org/user-guide/ignoring-errors#ignoring-in-code-using-phpdocs)

### Mega-linter configuration

- Enable phpstan by adding `PHP_PHPSTAN` in [ENABLE_LINTERS variable](https://github.com/nvuillam/mega-linter#activation-and-deactivation)
- Disable phpstan by adding `PHP_PHPSTAN` in [DISABLE_LINTERS variable](https://github.com/nvuillam/mega-linter#activation-and-deactivation)

| Variable | Description | Default value |
| ----------------- | -------------- | -------------- |
| PHP_PHPSTAN_ARGUMENTS | User custom arguments to add in linter CLI call<br/>Ex: `-s --foo "bar"` |  |
| PHP_PHPSTAN_FILTER_REGEX_INCLUDE | Custom regex including filter<br/>Ex: `\/(src\|lib)\/` | Include every file |
| PHP_PHPSTAN_FILTER_REGEX_EXCLUDE | Custom regex excluding filter<br/>Ex: `\/(test\|examples)\/` | Exclude no file |
| PHP_PHPSTAN_FILE_NAME | phpstan configuration file name</br>Use `LINTER_DEFAULT` to let the linter find it | `phpstan.neon` |
| PHP_PHPSTAN_RULES_PATH | Path where to find linter configuration file | Workspace folder, then Mega-Linter default rules |
| PHP_PHPSTAN_DISABLE_ERRORS | Run linter but disable crash if errors found | `false` |

## Behind the scenes

### How are identified applicable files

- File extensions:
  - `.php`


### Example calls

```shell
phpstan analyse --no-progress --no-ansi myfile.php
```

```shell
phpstan analyse --no-progress --no-ansi -c phpstan.neon myfile.php
```


### Help content

```shell
Description:
  Lists commands

Usage:
  list [options] [--] [<namespace>]

Arguments:
  namespace            The namespace name

Options:
      --raw            To output raw command list
      --format=FORMAT  The output format (txt, xml, json, or md) [default: "txt"]

Help:
  The list command lists all commands:

    php /usr/local/bin/phpstan list

  You can also display the commands for a specific namespace:

    php /usr/local/bin/phpstan list test

  You can also output the information in other formats by using the --format option:

    php /usr/local/bin/phpstan list --format=xml

  It's also possible to get raw list of commands (useful for embedding command runner):

    php /usr/local/bin/phpstan list --raw

```

### Installation on mega-linter Docker image

- Dockerfile commands :
```dockerfile
# Parent descriptor install
RUN wget --tries=5 -O phive.phar https://phar.io/releases/phive.phar \
    && wget --tries=5 -O phive.phar.asc https://phar.io/releases/phive.phar.asc \
    && PHAR_KEY_ID="0x9D8A98B29B2D5D79" \
    && ( gpg --keyserver ha.pool.sks-keyservers.net --recv-keys "$PHAR_KEY_ID" \
    || gpg --keyserver pgp.mit.edu --recv-keys "$PHAR_KEY_ID" \
    || gpg --keyserver keyserver.pgp.com --recv-keys "$PHAR_KEY_ID" ) \
    && gpg --verify phive.phar.asc phive.phar \
    && chmod +x phive.phar \
    && mv phive.phar /usr/local/bin/phive \
    && rm phive.phar.asc

# Linter install
RUN phive install phpstan -g --trust-gpg-keys CF1A108D0E7AE720

```

