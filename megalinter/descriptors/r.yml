descriptor_id: R
descriptor_type: language
file_extensions:
  - ".r"
  - ".R"
  - ".Rmd"
  - ".RMD"
linters:
  # Lintr
  - class: RLinter
    linter_name: lintr
    linter_url: https://github.com/jimhester/lintr
    linter_rules_configuration_url: https://github.com/jimhester/lintr#project-configuration
    config_file_name: .lintr
    examples:
      - "R --slave -e \"errors <- lintr::lint('myfile.r'); print(errors); quit(save = 'no', status = if (length(errors) > 0) 1 else 0) \""
    install:
      apk:
        - R
        - R-dev
        - R-doc
      dockerfile:
        - FROM ghcr.io/assignuser/lintr-lib:latest as lintr-lib
        - COPY --from=lintr-lib /usr/lib/R/library/ /home/r-library
        - RUN R -e "install.packages(list.dirs('/home/r-library',recursive = FALSE), repos = NULL, type = 'source')"